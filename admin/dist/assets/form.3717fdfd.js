var U=Object.defineProperty,q=Object.defineProperties;var v=Object.getOwnPropertyDescriptors;var D=Object.getOwnPropertySymbols;var C=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable;var V=(t,e,m)=>e in t?U(t,e,{enumerable:!0,configurable:!0,writable:!0,value:m}):t[e]=m,h=(t,e)=>{for(var m in e||(e={}))C.call(e,m)&&V(t,m,e[m]);if(D)for(var m of D(e))k.call(e,m)&&V(t,m,e[m]);return t},y=(t,e)=>q(t,v(e));import{_ as R,s as B,l as N,v as P,u as $,r as E,B as F,o as S,a as g,x as Y,t as G,b as _,d as I,e as M,f as a,w as o,h as u}from"./index.dabb5305.js";const T={name:"AgentAllowForm",setup(){const{proxy:t}=B();console.log("proxy",t);const e=N(null),m=P(),i=$(),{id:s}=m.query,n=E({token:F("token")||"",id:s,allClasses:[],formData:{family:"",start_name:"",peer_id_pattern:"",peer_id_match_num:"",peer_id_matchtype:"",peer_id_start:"",agent_pattern:"",agent_match_num:"",agent_matchtype:"",agent_start:"",exception:"",allowhttps:"",comment:""},rules:{family:[{required:"true"}],start_name:[{required:"true"}],peer_id_pattern:[{required:"true"}],peer_id_match_num:[{required:"true"}],peer_id_matchtype:[{required:"true"}],peer_id_start:[{required:"true"}],agent_pattern:[{required:"true"}],agent_match_num:[{required:"true"}],agent_matchtype:[{required:"true"}],agent_start:[{required:"true"}],exception:[{required:"true"}],allowhttps:[{required:"true"}]}});S(async()=>{s&&g.getAgentAllow(s).then(l=>{n.formData.family=l.data.family,n.formData.start_name=l.data.start_name,n.formData.peer_id_pattern=l.data.peer_id_pattern,n.formData.peer_id_match_num=l.data.peer_id_match_num,n.formData.peer_id_matchtype=l.data.peer_id_matchtype,n.formData.peer_id_start=l.data.peer_id_start,n.formData.agent_pattern=l.data.agent_pattern,n.formData.agent_match_num=l.data.agent_match_num,n.formData.agent_matchtype=l.data.agent_matchtype,n.formData.agent_start=l.data.agent_start,n.formData.exception=l.data.exception,n.formData.allowhttps=l.data.allowhttps,n.formData.comment=l.data.comment})}),Y(()=>{});const p=()=>{e.value.validate(async l=>{if(l){let d=n.formData;console.log(d),s?await g.updateAgentAllow(s,d):await g.storeAgentAllow(d),await i.push({name:"agent-allow"})}})};return y(h({},G(n)),{formRef:e,submitAdd:p})}},j=u("dec"),z=u("hex"),H=u("dec"),J=u("hex"),K=u("Yes"),L=u("No"),O=u("Yes"),Q=u("No"),W=u("Submit");function X(t,e,m,i,s,n){const p=_("el-input"),l=_("el-form-item"),d=_("el-radio"),f=_("el-radio-group"),c=_("el-button"),b=_("el-form"),w=_("el-col"),A=_("el-row");return I(),M("div",null,[a(A,null,{default:o(()=>[a(w,{span:12},{default:o(()=>[a(b,{model:t.formData,rules:t.rules,ref:"formRef","label-width":"200px",class:"formData"},{default:o(()=>[a(l,{label:"Family",prop:"family"},{default:o(()=>[a(p,{modelValue:t.formData.family,"onUpdate:modelValue":e[0]||(e[0]=r=>t.formData.family=r),placeholder:""},null,8,["modelValue"])]),_:1}),a(l,{label:"Start name",prop:"start_name"},{default:o(()=>[a(p,{modelValue:t.formData.start_name,"onUpdate:modelValue":e[1]||(e[1]=r=>t.formData.start_name=r),placeholder:""},null,8,["modelValue"])]),_:1}),a(l,{label:"Peer id start",prop:"peer_id_start"},{default:o(()=>[a(p,{modelValue:t.formData.peer_id_start,"onUpdate:modelValue":e[2]||(e[2]=r=>t.formData.peer_id_start=r),placeholder:""},null,8,["modelValue"])]),_:1}),a(l,{label:"Peer id pattern",prop:"peer_id_pattern"},{default:o(()=>[a(p,{modelValue:t.formData.peer_id_pattern,"onUpdate:modelValue":e[3]||(e[3]=r=>t.formData.peer_id_pattern=r),placeholder:""},null,8,["modelValue"])]),_:1}),a(l,{label:"Peer id match num",prop:"peer_id_match_num"},{default:o(()=>[a(p,{modelValue:t.formData.peer_id_match_num,"onUpdate:modelValue":e[4]||(e[4]=r=>t.formData.peer_id_match_num=r),placeholder:"",type:"number"},null,8,["modelValue"])]),_:1}),a(l,{label:"Peer id match type",prop:"peer_id_matchtype"},{default:o(()=>[a(f,{modelValue:t.formData.peer_id_matchtype,"onUpdate:modelValue":e[5]||(e[5]=r=>t.formData.peer_id_matchtype=r)},{default:o(()=>[a(d,{label:"dec"},{default:o(()=>[j]),_:1}),a(d,{label:"hex"},{default:o(()=>[z]),_:1})]),_:1},8,["modelValue"])]),_:1}),a(l,{label:"Agent start",prop:"agent_start"},{default:o(()=>[a(p,{modelValue:t.formData.agent_start,"onUpdate:modelValue":e[6]||(e[6]=r=>t.formData.agent_start=r),placeholder:""},null,8,["modelValue"])]),_:1}),a(l,{label:"Agent pattern",prop:"agent_pattern"},{default:o(()=>[a(p,{modelValue:t.formData.agent_pattern,"onUpdate:modelValue":e[7]||(e[7]=r=>t.formData.agent_pattern=r),placeholder:""},null,8,["modelValue"])]),_:1}),a(l,{label:"Agent match num",prop:"agent_match_num"},{default:o(()=>[a(p,{modelValue:t.formData.agent_match_num,"onUpdate:modelValue":e[8]||(e[8]=r=>t.formData.agent_match_num=r),placeholder:"",type:"number"},null,8,["modelValue"])]),_:1}),a(l,{label:"Agent match type",prop:"agent_matchtype"},{default:o(()=>[a(f,{modelValue:t.formData.agent_matchtype,"onUpdate:modelValue":e[9]||(e[9]=r=>t.formData.agent_matchtype=r)},{default:o(()=>[a(d,{label:"dec"},{default:o(()=>[H]),_:1}),a(d,{label:"hex"},{default:o(()=>[J]),_:1})]),_:1},8,["modelValue"])]),_:1}),a(l,{label:"Exception",prop:"exception"},{default:o(()=>[a(f,{modelValue:t.formData.exception,"onUpdate:modelValue":e[10]||(e[10]=r=>t.formData.exception=r)},{default:o(()=>[a(d,{label:"yes"},{default:o(()=>[K]),_:1}),a(d,{label:"no"},{default:o(()=>[L]),_:1})]),_:1},8,["modelValue"])]),_:1}),a(l,{label:"Allow https",prop:"allowhttps"},{default:o(()=>[a(f,{modelValue:t.formData.allowhttps,"onUpdate:modelValue":e[11]||(e[11]=r=>t.formData.allowhttps=r)},{default:o(()=>[a(d,{label:"yes"},{default:o(()=>[O]),_:1}),a(d,{label:"no"},{default:o(()=>[Q]),_:1})]),_:1},8,["modelValue"])]),_:1}),a(l,{label:"Comment",prop:"comment"},{default:o(()=>[a(p,{type:"textarea",modelValue:t.formData.comment,"onUpdate:modelValue":e[12]||(e[12]=r=>t.formData.comment=r),placeholder:""},null,8,["modelValue"])]),_:1}),a(l,null,{default:o(()=>[a(c,{type:"primary",onClick:e[13]||(e[13]=r=>i.submitAdd())},{default:o(()=>[W]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1})]),_:1})])}var ee=R(T,[["render",X]]);export{ee as default};
